# Spring Server for car wash application
### Общая информация
- Название базы данных: ```postgres```
- При регистрации пользователь отправляет username и password, затем телефоном автоматически ставится равный username (то есть в юзернейме пользователь передаёт свой телефон). А почту, ФИО и другую информацию человек может потом отдельно написать, если захочет
- Есть три роли: админ, модератор, юзер. Можно легко добавить еще, пока что и запросов нет, в которых проверяются роли (только тестовые есть)
- Если при регистрации подаётся какая-то ерунда вместо роли или не подаётся ничего, то человек по автомату обычный юзер
- Парль в бд шифруется, никакие гады его не узнают! :+1:
- форматы даты : "yyyy-MM-dd'T'HH:mm:ss.SSSX", "yyyy-MM-dd'T'HH:mm:ss.SSS", "EEE, dd MMM yyyy HH:mm:ss zzz", "yyyy-MM-dd" Если добавлять как в последнем примере, не указывая часы и минуты, то автоматически поставить время 07:00:00 (хз почему)
- ***Для определенных запросов пользователя (мы сами решаем каких), необходимо проверять, что запрос пользователя соответствует правам для этого запросами.\
С помощью специальных алгоритмов из данных о пользователи (имя, почта, пароль и тп) генерируется токен типа Bearer, а при дальнейших запросах мы проверяем в хедере мы передаём этот токен.  
Но токен не действует бесконечно, поэтому, если пользователь еще не вышел из приложения (то есть не просто свернул), то сервер должен отправлять такой запрос
То есть мы получаем новый accessToken и новый refreshToken для таких же махинаций в будующем.  
Думаю кратко этой информации хватит***
- То есть у нас есть accessToken, который действует какое-то время, а есть еще refreshToken, который действует еще дольше и нужен как раз чтобы обновить этот самый accessToken типа bearer. Refresh token обновить нельзя, если его время действие кончается, то надо опять зайти (логин) в приложение
